<h3>Envoyer tout votre amour à Martinho, laissez lui un message ! </h3>

<form name="myForm">
    <div class="control-group" ng-class="{error: myForm.name.$invalid && !myForm.name.$pristine}">
        <label>Prénom</label>
        <input type="text" name="name" ng-model="vote.name" required>
    <span ng-show="myForm.name.$error.required && !myForm.name.$pristine" class="help-inline">
        Required {{myForm.name.$pristine}}</span>
    </div>

    <div class="control-group" ng-class="{error: myForm.comment.$invalid && !myForm.comment.$pristine}">
        <label>Commentaire</label>
        <textarea name="comment" ng-model="vote.comment" required placeholder="Soutenez Martinho en lui addressant un petit message"></textarea>
    <span ng-show="myForm.comment.$error.required && !myForm.name.$pristine" class="help-inline">
        Required</span>
    </div>

    <br>
    <button ng-click="save()" ng-disabled="myForm.$invalid"
            class="btn btn-primary">Save</button>
</form>

<h3>Liste des soutiens de Martinho</h3>

<table>
    <thead>
    <tr>
        <th>Prénom</th>
        <th>Commentaire</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="vote in votes">
        <td><a href="{{vote.name}}" target="_blank">{{vote.name}}</a></td>
        <td>{{vote.comment}}</td>
    </tr>
    </tbody>
</table>